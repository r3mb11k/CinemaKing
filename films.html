<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <title>КиноКороль - Мои Фильмы</title>
    <link rel="website icon" type="png" href="https://cdn-icons-png.flaticon.com/512/6941/6941697.png">
</head>
<body>
    


    <header class="container-header">
        <div class="header__content">
          <a href="index.html" class="header__logo">Кино<span>Король</span></a>
  
  
          <form class="right-header">
            <a href="films.html" class="Favorite">Мои Фильмы</a>
            <input type="text" class="header__search" placeholder="Поиск" />
            <button class="profile"><a href="login.html">Войти</a></button>
          </form>
  
        </div>
      </header>
  
  
  
      <main class="favorite-films">
        <h1>Избранные Фильмы</h1>
        <div id="favorite-movies" class="movies-container"></div>
      </main>

  
    



      <footer>
        <div class="left-footer">
          <h1>Кино<span>Король</span></h1>
          <p>Сделал: Сарамбаев Дмитрий</p>
        </div>   
  
        <h1>Сайт создан на основе <a href="https://kinopoiskapiunofficial.tech/" target="_blank">API</a> Кинопоиска</h1>
  
          <div class="footer-body">
          <ul>
            <li><a href="links/about.html">О нас</a></li>
            <li><a href="links/politika.html">Политика Конфиденциальности</a></li>
            <li><a href="links/agreement.html">Пользовательское соглашение</a></li>
          </ul>
          </div>
      </footer>


    <script>


document.addEventListener('DOMContentLoaded', () => {
      const favoritesContainer = document.getElementById('favorite-movies');
      const favorites = JSON.parse(localStorage.getItem('favorites')) || [];

      if (favorites.length > 0) {
        favorites.forEach(movie => {
          const movieEl = document.createElement('div');
          movieEl.classList.add('movie-card');

          movieEl.innerHTML = `
            <img src="${movie.posterUrl}" alt="${movie.nameRu}" class="movie-poster">
            <div class="movie-info">
              <h2>${movie.nameRu}</h2>
              <p>${movie.year}</p>
            </div>
          `;

          const moviePoster = movieEl.querySelector('.movie-poster');
          moviePoster.addEventListener('click', () => {
            window.location.href = `movie.html?id=${movie.kinopoiskId}`;
          });

          favoritesContainer.appendChild(movieEl);
        });
      }
    });









window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    if (document.body.scrollTop > 0 || document.documentElement.scrollTop > 0) {
        document.querySelector(".header__content").classList.add("blur");
    } else {
        document.querySelector(".header__content").classList.remove("blur");
    }
}





    </script>
</body>
</html>